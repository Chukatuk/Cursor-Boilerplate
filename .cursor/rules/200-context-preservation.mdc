---
description: Ensures important changes are logged so fresh sessions can pick up where the last one left off. Always active.
alwaysApply: true
---

# Context Preservation

LLMs lose context across sessions. This rule ensures major changes are recorded so a new session can resume without re-explanation.

## Two places to update after significant work

1. **`memory-bank/activeContext.md`** — short-term memory. Update "Current Focus", "Recently Completed", and "Notes / Decisions Made" after every work session.
2. **`logs/chat-summaries/`** — long-term history. Create one file per significant session using the template in `logs/CHAT_SUMMARY_TEMPLATE.md`. Then add a one-line entry linking to it at the top of `logs/DEVELOPMENT_LOG.md`.

## When to log

Create a chat summary after:
- Completing a significant feature or fix
- Making an architectural decision
- Encountering and resolving a non-trivial error
- Finishing any session where future-you would want to know what happened and why

Not every edit needs a summary. Quick fixes and config tweaks that are self-evident from the code do not.

## Chat summary format

See `logs/CHAT_SUMMARY_TEMPLATE.md` for the full template and naming convention (`YYYYMMDD-brief-description.md`).

Key sections to always fill in: Overview, Problem/Objective, Solution/Implementation, Files Changed.

## Development log entry format

After creating the summary file, add an entry at the top of `logs/DEVELOPMENT_LOG.md`:

```
## YYYY-MM-DD

### [Category] Brief description
→ [chat-summaries/YYYYMMDD-description.md](chat-summaries/YYYYMMDD-description.md)
- Key point 1
- Key point 2
```

## Long sessions

If a session has been running for a while and the context window may be filling up, proactively suggest starting a fresh chat. Update `activeContext.md` and create a chat summary before doing so.
